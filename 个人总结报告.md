**Puzzle-2 测试计划（Blackhole 组）**

**1. 项目概述**
- 项目名称：Puzzle-2
- 描述：基于 C++/Qt 的拼图游戏，支持生成/解决拼图、拖拽旋转操作、计时、撤销/重置、保存/加载、排行榜（数据库持久化）与背景音频。

**2. 测试目标**
- 功能：验证核心功能正确性（菜单流程、拼图操作、计时/存档/排行榜）。
- 易用性：界面操作直观、提示清晰，关键任务路径无阻碍。
- 文档：README/用户手册完整、清晰、可复现构建与运行步骤。

**3. 测试范围**
- 主要流程：主菜单 → 默认/生成拼图 → 游戏操作（拖动/旋转/撤销/重置） → 计时 → 保存/加载 → 排行榜（数据库）。
- 系统能力：Qt UI 组件、QtSql 数据库访问、音频播放。
- 不在范围：第三方库内部实现、操作系统外设交互。

**4. 测试方法**
- 静态测试：Cppcheck/clang-tidy（含 Qt 头路径），审查内存/空指针/未初始化/异常路径。
- 动态测试：构建后运行功能/回归用例，含自动化脚本 + 手工探索。
- 文档审查：检查 README/用户手册的安装、依赖、构建、运行、常见问题。
- 易用性：基于任务脚本的走查，记录可用性问题与改进点。

**5. 工具与技术**
- 构建/测试：qmake 或 CMake（取决于仓库配置），编译器 MinGW/MSVC（需对应 Qt SDK），Catch2/Google Test（若仓库含测试桩）。
- 静态分析：Cppcheck，clang-tidy（配置 Qt 包含目录）。
- 自动化：简易脚本批量运行核心流程；如需 GUI 自动化可选 Squish/AutoHotkey（视时间投入）。

**6. 测试环境**
- 硬件/OS：Windows 10/11（x64）。
- 依赖：Qt (5/6) 开发套件含 QtCore/QtGui/QtWidgets/QtSql，编译器与 Qt 版本匹配；CMake 或 qmake；数据库驱动（QtSql 使用的 SQLite/其他）。
- 运行路径：优先使用 D: 磁盘（如 `D:\temp` 作为临时目录，`Sofware-Q/agent/workspaces` 作为工作区）。

**7. 测试交付物**
- 本测试计划。
- 测试用例与执行记录（含通过/失败、缺陷单）。
- 静态/动态分析报告与日志。
- 最终测试报告（总结缺陷、风险、建议）。

**8. 测试标准**
- 入场：代码可构建；Qt SDK 与编译器已安装且版本匹配；关键依赖路径可用（QT_INCLUDES/QT_LIBS/PATH 已配置）；核心需求冻结。
- 退出：计划用例 100% 执行；阻塞/高优先级缺陷关闭或有明确规避措施；报告完成并评审。

**9. 风险管理**
- 依赖风险：Qt 开发包缺失或版本不匹配 → 预先检查环境，提供配置脚本（设置 QT_INCLUDES/QT_LIBS/QT_BIN_PATH/MSYS2_PATH）。
- 构建风险：qmake/CMake 配置差异 → 明确优先构建链路并记录备用链路。
- 时间/资源：GUI 自动化投入大 → 以核心任务走查优先，自动化择要覆盖。
- 数据风险：排行榜/存档数据损坏 → 使用测试数据库/隔离数据目录并备份。

**10. 报告与沟通**
- 进度：每周同步一次测试进展与阻塞；关键缺陷即时通报。
- 结果：每个阶段输出测试记录与缺陷列表；结束时提交最终测试报告。

**11. 结论**
- 通过上述计划，聚焦构建可用的 Qt 开发环境、覆盖核心功能与易用性路径，确保 Puzzle-2 在功能、体验和文档上达到发布质量。

---

**测试进度与规划（项目尚未完成时的行动路线）**
- 需求澄清：锁定当前已实现与待实现的功能清单，确认界面/数据库/音频等依赖优先级。
- 环境准备：安装匹配编译器的 Qt SDK（含 QtCore/QtGui/QtWidgets/QtSql），设置 `QT_INCLUDES`/`QT_LIBS`/`QT_BIN_PATH`/`MSYS2_PATH`，确保能构建最小可运行版本。
- 构建策略：优先打通 qmake/CMake 其中一条构建链；记录编译参数和依赖版本；准备简单的 smoke test（启动主窗口、基本菜单点击）。
- 用例设计：从核心用户路径出发编写用例（主菜单→拼图生成/加载→拖拽/旋转→计时→保存/排行榜）；并行整理回归用例集，标记阻塞/高优先级。
- 自动化与工具：确定是否接入 Catch2/Google Test（若源码可插桩），静态分析用 Cppcheck/clang-tidy（配置 Qt 头路径），简单脚本覆盖启动/基础交互。
- 迭代节奏：每周至少一次构建+用例回归；缺陷单立项，跟踪修复与复测；关键节点前（汇报/演示）做全量冒烟。
- 交付里程碑：近期提交测试计划与陈述；中期分享（进展、缺陷、风险）；自动化/智能化工具分享（展示脚本/报告）。
